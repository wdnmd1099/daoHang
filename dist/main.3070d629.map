{"version":3,"sources":["main.js"],"names":["console","log","$","click","attr","submit","simplifyUrl","url","replace","$siteList","$lastLi","find","z","localStorage","getItem","zObject","JSON","parse","hashMap","render","remove","forEach","node","index","$li","logo","insertBefore","on","window","open","e","stopPropagation","splice","url1","prompt","indexOf","push","toUpperCase","onbeforeunload","string","stringify","setItem"],"mappings":"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","file":"main.3070d629.map","sourceRoot":"..\\src","sourcesContent":["console.log(\"main.js启动\")\n\n$(\".baiDuSearch\").click(function () {\n        $(\".searchForm\").attr('action', 'https://www.baidu.com/s');    //jQuery的attr方法可以覆盖一个属性\n        //这里是把form标签的action属性修改为https://www.baidu.com/s\n        $(\".searchInput\").attr('name', 'wd');    //通过jquery为name属性赋值\n        $(\".searchForm\").submit();    //提交class为searchForm的表单\n    })\n\n$(\".googleSearch\").click(function () {\n        $(\".searchForm\").attr('action', 'https://www.google.com.hk/search');    //通过jquery为action属性赋值\n        $(\".searchInput\").attr('name', 'q');    //通过jquery为name属性赋值\n        $(\".searchForm\").submit();    //提交class为searchForm的表单   jquery的submit()  ->  https://www.runoob.com/jquery/event-submit.html\n    })   //方法参考来自: https://blog.csdn.net/BestEternity/article/details/107865959\n\n\n\n    const simplifyUrl = (url) => { //删除网址的前缀，只显示域名部分\n        return url.replace('https://', '')\n          .replace('http://', '')\n          .replace('www.', '')\n          .replace(/\\/.*/, '') // 删除 / 开头的内容\n      }\n\n\n\n\n\n\n\n\n\n\n    const $siteList = $('.siteList')\n    const $lastLi = $siteList.find('.last')\n    let url = ''\n\n    const z = localStorage.getItem('z')\n    const zObject =  JSON.parse(z)\n    const hashMap = zObject  || [\n      {\"logo\":\"C\",\"url\":\"https://www.cnblogs.com/deerchao/archive/2006/08/24/zhengzhe30fengzhongjiaocheng.html\"},\n      {\"logo\":\"J\",\"url\":\"https://www.jquery123.com/\"}\n    ]\n\nconst render = () =>{\n    $siteList.find('li:not(.last)').remove();  //删除siteList里的所有li元素，除了class 为last的li元素（添加网页）\n    hashMap.forEach((node,index)=>{\n        const $li = $(`<li>\n        \n        <div class=\"site\">\n        <div class=\"logo\">${(node.logo[0])}</div>\n        <div class=\"link\">${simplifyUrl(node.url)}</div>\n\n        <div class=\"close\">\n          <svg class=\"icon\">\n            <use xlink:href=\"#icon-close\"></use>\n          </svg>\n\n          </div>\n          <div class=\"text\"></div>\n        </div>\n        \n        </li>`).insertBefore($lastLi)\n        console.log($li)\n        $li.on('click', () => {\n            window.open(node.url)\n            console.log('111')\n          })\n     \n        $li.on('click', '.close', (e) => {\n            e.stopPropagation() // 阻止冒泡\n            hashMap.splice(index, 1)\n            render()\n          })\n    }) \n}\n\nrender()\n\n\n\n$('.addButton').on('click', () => {\n        let url1 =  window.prompt('请输入想收藏的网址：')\n        url = url1\n        if(url.indexOf('http')!==0){\n            url = 'https://www.' + url\n        }\n        console.log('添加的网址为'+url)\n        hashMap.push({\n            logo:simplifyUrl(url)[0].toUpperCase(),\n            url:url\n        })\n        console.log(hashMap)\n        render()\n    })\n\n\n\n\n\n\n\nwindow.onbeforeunload = () => { //检测在离开网页时，把字符串存到localStorage的'x'里\n    const string = JSON.stringify(hashMap) //JSON.stringify(hashMap) 把hashMap(对象)转成字符串\n    localStorage.setItem('z', string)\n  }\n\n\n"]}